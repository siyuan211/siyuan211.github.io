{% include base_path %}

<meta charset="utf-8">

{% include seo.html %}

<link
  href="{% if site.atom_feed.path %}{{ site.atom_feed.path }}{% else %}{{ base_path }}/feed.xml{% endif %}"
  type="application/atom+xml"
  rel="alternate"
  title="{{ site.title }} Feed">

<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className
    .replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="{{ base_path }}/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
<link rel="stylesheet" href="{{ base_path }}/assets/css/custom.css">

<!-- GoatCounter ç»Ÿè®¡ -->
<script
  data-goatcounter="https://siyuan-stats.goatcounter.com/count"
  async
  src="//gc.zgo.at/count.js"></script>

<!-- å¤œé—´/æ—¥é—´æ¨¡å¼åˆ‡æ¢æ ·å¼ -->
<style>
  body.dark-mode {
    background-color: #121212;
    color: #ffffff;
  }

  body.dark-mode .container,
  body.dark-mode .page-content,
  body.dark-mode .main {
    background-color: rgba(255, 255, 255, 0.08);
    color: #ffffff;
  }

  body.dark-mode a {
    color: #90cdf4;
  }

  body.dark-mode a:hover {
    color: #63b3ed;
  }

  body.dark-mode button {
    background-color: #ffffff;
    color: #000;
  }

  /* æ¨¡å¼åˆ‡æ¢æŒ‰é’® */
  #modeToggle {
    position: fixed;
    top: 1rem;
    right: 1rem;
    z-index: 999;
    background: none;
    border: 2px solid white;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: background 0.3s ease, color 0.3s ease;
  }

  #modeToggle:hover {
    background: rgba(255, 255, 255, 0.2);
  }
</style>

<!-- å¤œé—´/æ—¥é—´æ¨¡å¼åˆ‡æ¢è„šæœ¬ -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // åˆ›å»ºåˆ‡æ¢æŒ‰é’®
    const toggle = document.createElement("button");
    toggle.id = "modeToggle";
    toggle.textContent = "ğŸŒ™ å¤œé—´æ¨¡å¼";
    document.body.appendChild(toggle);

    const body = document.body;
    const saved = localStorage.getItem("theme");
    if (saved === "dark") {
      body.classList.add("dark-mode");
      toggle.textContent = "â˜€ï¸ æ—¥é—´æ¨¡å¼";
    }

    toggle.addEventListener("click", function () {
      body.classList.toggle("dark-mode");
      if (body.classList.contains("dark-mode")) {
        localStorage.setItem("theme", "dark");
        toggle.textContent = "â˜€ï¸ æ—¥é—´æ¨¡å¼";
      } else {
        localStorage.setItem("theme", "light");
        toggle.textContent = "ğŸŒ™ å¤œé—´æ¨¡å¼";
      }
    });
  });
</script>